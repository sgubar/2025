**ВАРІАНТ 6**

У цій програмі створюється та обробляється список фігур — трапецій, що зберігаються у двозв’язному списку. Кожна трапеція має свої параметри:

Розміри: ширина основи, висота, ширина верхньої сторони;

Позиція: координати (x, y) у 2D-просторі;

Колір: задається RGB-компонентами;

Обертання: кут і швидкість обертання навколо центру.


**1. Які функції для роботи безпосередньо з OpenGL ви імплементували? Коротко опишіть їхнє призначення.**

drawTrapezoid(Shape* shape) — малює одну трапецію з врахуванням її координат, розміру, кольору.

renderScene() — головна функція відображення сцени; викликається для кожного кадру, малює всі трапеції зі списку з обертанням.

setupGraphicsEnvironment() — ініціалізує OpenGL-середовище: колір фону, ортографічну проекцію, меню.

animationUpdate() — забезпечує оновлення сцени (анімацію) шляхом повторного виклику glutPostRedisplay().

**2. Яке призначення двозв’язного списку в цій лабораторній роботі? Імплементація якої функції роботи зі складовими списку дозволяє «поєднати» функціонал двозв’язного списку з OpenGL?**

Двозв’язний список зберігає фігури (трапеції) зі всіма їх параметрами — позицією, кольором, кутом обертання. Це дозволяє динамічно додавати, вставляти або видаляти фігури зі сцени.
Функція, що "поєднує" OpenGL та список:

renderScene() — саме ця функція обходить усі елементи списку та викликає для кожного drawTrapezoid(), тобто поєднує логіку даних (двозв’язний список) з рендерингом в OpenGL.

**3. За допомогою якого функціоналу OpenGL (очікування, обробка подій від таймера) у Вашій роботі реалізовано анімацію обертання?**

glutIdleFunc(animationUpdate); — реєструє функцію, яка викликається в час простою (тобто постійно викликає glutPostRedisplay(), навіть без подій користувача).

У renderScene() кут rotationAngle кожної трапеції змінюється на rotationSpeed, що і створює ефект анімації обертання.

**4. Якими функціями OpenGL і як саме Ви користувались для безпосередньо обертання фігур?**
glPushMatrix() / glPopMatrix() — зберігають і відновлюють матрицю трансформації.

glRotatef(angle, 0.0f, 0.0f, 1.0f) — обертає координатну систему навколо Z-осі перед малюванням фігури.

Як використано:
У циклі renderScene(), перед малюванням кожної трапеції застосовується glRotatef() з поточним кутом rotationAngle. Після цього координати фігури обертаються, і трапеція малюється з урахуванням обертання.

**5. Які існують команди роботи з матрицями трансформації в OpenGL?**

glPushMatrix() — зберігає поточну матрицю трансформації.
glPopMatrix() — відновлює останню збережену матрицю.
glLoadIdentity() — скидає матрицю до одиничної.
glTranslatef(x, y, z) — переміщення.
glRotatef(angle, x, y, z) — обертання.
glScalef(x, y, z) — масштабування.
glMatrixMode(GL_MODELVIEW) / GL_PROJECTION — перемикає тип поточної матриці.

**6. Які функції реєстрації зворотних викликів OpenGL зазвичай використовуються для анімацій?**
glutDisplayFunc(renderScene) — реєструє функцію для малювання.
glutIdleFunc(animationUpdate) — функція, яка викликається в період бездіяльності; зазвичай використовується для безперервної анімації.
